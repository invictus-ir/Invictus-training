# Invictus: Cloud Incident Response Query Pack
The cloud incident response query pack is part of our [HANDS-ON INCIDENT RESPONSE IN THE CLOUD](https://www.invictus-ir.com/training) training. The query pack is used in this training but is also free to use by everyone because we like to deliver open-source cloud incident response tools to the community. Queries from the following tables are included:
- AuditLogs
- AzureActivity
- AzureActivity
- SigninLogs
All queries are focussed on performing incident response on Microsoft Azure and Microsoft 365 data incidents.

## Deploy to Azure
To load the KQL query pack click the Deploy to Azure button. Alternatively load in via Azure Portal - Custom deployment

[![Deploy to Azure](https://aka.ms/deploytoazurebutton)](https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fgithub.com%2Finvictus-ir%2FInvictus-training%2Fblob%2Fmain%2FKQL-QueryPack%2Ftemplate.json)

## Included KQL Queries
- Register connector
- Update application – Certificates and secrets management
- Eligible member added to a PIM role (setup)
- List Storage Account Keys
- Add policy
- Add service principal
- NSG Change
- Update policy
- Add member to role (activation of a role)
- Azure Keyvault logging
- Create role assignment
- Enriched IP info SigninLogs
- Add application
- GuestUser Operations
- Update application – Certificates and secrets management AuditLogs
- Table Entries


